{"version":3,"file":"js/app.js","mappings":"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","sources":["webpack://yeti-laravel.ru/./resources/css/app.scss?1f49","webpack://yeti-laravel.ru/./resources/js/modules/form-validation.js","webpack://yeti-laravel.ru/./resources/js/modules/search-suggestions.js","webpack://yeti-laravel.ru/./resources/js/modules/viewed_lots.js","webpack://yeti-laravel.ru/webpack/bootstrap","webpack://yeti-laravel.ru/webpack/runtime/make namespace object","webpack://yeti-laravel.ru/./resources/js/app.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","document.addEventListener('DOMContentLoaded', () => {\r\n    const form = document.querySelector('.form--add-lot');\r\n    if (!form) return;\r\n    \r\n    const submitButton = form.querySelector('[type=\"submit\"]');\r\n    const photoLabel = form.querySelector('label[for=\"photo2\"]');\r\n    const photoPreview = form.querySelector('.preview__img img');\r\n    const previewContainer = form.querySelector('.preview');\r\n    const inputFileContainer = form.querySelector('.form__input-file');\r\n    const fileInput = form.querySelector('input[type=\"file\"]');\r\n    \r\n    // Проверка формы на наличие ошибок\r\n    const checkFormForErrors = () => {\r\n        let hasErrors = false;\r\n        form.querySelectorAll('input, select, textarea').forEach(input => {\r\n            const isValid = input.checkValidity();\r\n            input.classList.toggle('form__item--invalid', !isValid);\r\n            if (input.nextElementSibling) {\r\n                input.nextElementSibling.style.display = isValid ? 'none' : 'block';\r\n            }\r\n            hasErrors = !isValid || hasErrors;\r\n        });\r\n        form.classList.toggle('form--invalid', hasErrors);\r\n    };\r\n    \r\n    // Отображение выбранного изображения в превью\r\n    const handleFileInputChange = (event) => {\r\n        const file = event.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            if (photoPreview) photoPreview.src = e.target.result;\r\n            if (previewContainer) {\r\n                previewContainer.classList.add('form__item--uploaded');\r\n                previewContainer.style.display = 'block';\r\n                previewContainer.style.position = 'unset';\r\n            }\r\n            if (inputFileContainer) inputFileContainer.classList.add('hidden');\r\n        };\r\n        reader.readAsDataURL(file);\r\n    };\r\n    \r\n    // Обработка клика по кнопке отправки формы\r\n    const handleSubmitClick = (event) => {\r\n        checkFormForErrors();\r\n        if (form.checkValidity()) form.submit();\r\n        if (fileInput && !fileInput.value) photoLabel.style.display = 'block';\r\n    };\r\n    \r\n    submitButton.addEventListener('click', handleSubmitClick);\r\n    if (fileInput) fileInput.addEventListener('change', handleFileInputChange);\r\n});\r\n","// Обработчик ввода в поле поиска\r\ndocument.getElementById('search-input').addEventListener('input', (event) => {\r\n    const query = event.target.value;\r\n    \r\n    // Если запрос больше 2 символов, запрашиваем подсказки\r\n    if (query.length > 2) {\r\n        fetch(`/search-suggestions?query=${query}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                // Создаем список подсказок и добавляем его в DOM\r\n                const suggestions = data.map(item =>\r\n                    `<li class=\"suggestion-item\">${item.title}</li>`\r\n                ).join('');\r\n                const suggestionsContainer = document.getElementById('search-suggestions');\r\n                suggestionsContainer.innerHTML = suggestions;\r\n                \r\n                // Добавляем обработчик кликов на подсказки\r\n                document.querySelectorAll('.suggestion-item').forEach(item => {\r\n                    item.addEventListener('click', () => {\r\n                        document.getElementById('search-input').value = item.innerText;\r\n                        performSearch(item.innerText);\r\n                    });\r\n                });\r\n            })\r\n            .catch(error => console.error('Error fetching suggestions:', error));\r\n    } else {\r\n        // Очищаем список подсказок, если запрос меньше 3 символов\r\n        document.getElementById('search-suggestions').innerHTML = '';\r\n    }\r\n});\r\n\r\n// Обработчик изменения поля поиска\r\ndocument.getElementById('search-input').addEventListener('change', () => {\r\n    const enteredValue = document.getElementById('search-input').value;\r\n    if (enteredValue.length > 0) {\r\n        performSearch(enteredValue);\r\n    }\r\n});\r\n\r\n// Обработчик клика на кнопку поиска\r\ndocument.getElementById('search-button').addEventListener('click', () => {\r\n    const query = document.getElementById('search-input').value;\r\n    performSearch(query);\r\n});\r\n\r\n// Функция для выполнения поиска\r\nconst performSearch = (query) => {\r\n    if (query.length > 0) {\r\n        window.location.href = `/search?search=${encodeURIComponent(query)}`;\r\n    }\r\n};\r\n","document.addEventListener('DOMContentLoaded', () => {\r\n    const lotIdMetaTag = document.querySelector('meta[name=\"lot-id\"]');\r\n    if (lotIdMetaTag) {\r\n        const lotId = parseInt(lotIdMetaTag.getAttribute('content'));\r\n        if (!isNaN(lotId)) addViewedLot(lotId);\r\n    }\r\n    updateViewedLots();\r\n});\r\n\r\nconst addViewedLot = lotId => {\r\n    const viewedLots = JSON.parse(localStorage.getItem('viewed_lots')) || [];\r\n    if (!viewedLots.includes(lotId)) {\r\n        viewedLots.push(lotId);\r\n        localStorage.setItem('viewed_lots', JSON.stringify(viewedLots));\r\n    }\r\n};\r\n\r\nconst updateViewedLots = () => {\r\n    const viewedLots = JSON.parse(localStorage.getItem('viewed_lots')) || [];\r\n    document.cookie = `viewed_lots=${JSON.stringify(viewedLots)}; path=/`;\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../css/app.scss';\n\nimport './modules/form-validation.js';\nimport './modules/viewed_lots.js';\nimport './modules/search-suggestions.js';\n"],"names":["document","addEventListener","form","querySelector","submitButton","photoLabel","photoPreview","previewContainer","inputFileContainer","fileInput","checkFormForErrors","hasErrors","querySelectorAll","forEach","input","isValid","checkValidity","classList","toggle","nextElementSibling","style","display","handleFileInputChange","event","file","target","files","reader","FileReader","onload","e","src","result","add","position","readAsDataURL","handleSubmitClick","submit","value","getElementById","query","length","fetch","then","response","json","data","suggestions","map","item","title","join","suggestionsContainer","innerHTML","innerText","performSearch","catch","error","console","enteredValue","window","location","href","encodeURIComponent","lotIdMetaTag","lotId","parseInt","getAttribute","isNaN","addViewedLot","updateViewedLots","viewedLots","JSON","parse","localStorage","getItem","includes","push","setItem","stringify","cookie"],"sourceRoot":""}